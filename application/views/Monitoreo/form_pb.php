<div class="content-wrapper">
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <h3 class="box-title">Formulario</h3>
                    </div>
                    <div class="box-body">
                        <ul class="nav nav-tabs">
                            <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
                            <li><a data-toggle="tab" href="#menu1">Menu 1</a></li>
                            <li><a data-toggle="tab" href="#menu2">Menu 2</a></li>
                        </ul>
                        <form class="form-pb">
                            <div class="tab-content">
                                
                                <div id="home" class="tab-pane fade in active">
                                    <br><br>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="box box-primary">
                                               <div class="box-header with-border">
                                                   <h3 class="box-title">Datos de la construcción</h3>
                                               </div>
                                               <div class="box-body">
                                                   <br>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label>id_project_construccion</label>
                                                                <input type="text" name="id_project_construccion" class="form-control" placeholder="id project construccion" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>id_stage_construction</label>
                                                                <input type="text" name="id_stage_construction" class="form-control" placeholder="id_stage_construction" onkeypress="json_array(event,this)" />
                                                            </div>  
                                                        </div>
                                                        <div class="col-md-6">
                                                            <div class="form-group">
                                                                <label>id_stage_project_construction</label>
                                                                <input type="text" name="id_stage_project_construction" class="form-control" placeholder="id_stage_project_construction" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>id_construction_legal</label>
                                                                <input type="text" name="id_construction_legal" class="form-control" placeholder="id_construction_legal" onkeypress="json_array(event,this)" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    
                                                    <div class="form-group">
                                                        <label>visioncenter_projects_censuscol</label>
                                                        <input type="text" name="visioncenter_projects_censuscol" class="form-control" placeholder="visioncenter_projects_censuscol" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>name_construction</label>
                                                        <input type="text" name="name_construction" class="form-control" placeholder="name_construction" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>project_name_construction</label>
                                                        <input type="text" name="project_name_construction" class="form-control" placeholder="project_name_construction" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    
                                               </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="box box-primary">
                                               <div class="box-header with-border">
                                                   <h3 class="box-title">Datos de la construcción</h3>
                                               </div>
                                               <div class="box-body">
                                                    <div class="form-group">
                                                        <label>address_construction</label>
                                                        <input type="text" name="address_construction" class="form-control" placeholder="address_construction" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>pending_cast_units</label>
                                                        <input type="text" name="pending_cast_units" class="form-control" placeholder="pending_cast_units" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>zone_sub_census</label>
                                                        <input type="text" name="zone_sub_census" class="form-control" placeholder="zone_sub_census" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>address_name_construction</label>
                                                        <input type="text" name="address_name_construction" class="form-control" placeholder="address_name_construction" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>construction_source</label>
                                                        <input type="text" name="construction_source" class="form-control" placeholder="construction_source" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    
                                               </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Datos de la construcción</h3>
                                                </div>
                                                <div class="box-body">
                                                    
                                                        <div class="form-group">
                                                            <label>stratum_construction</label>
                                                            <input type="text" name="stratum_construction" class="form-control" placeholder="stratum_construction" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>city_construction</label>
                                                            <input type="text" name="city_construction" class="form-control" placeholder="city_construction" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>phone1_construction</label>
                                                            <input type="text" name="phone1_construction" class="form-control" placeholder="phone1_construction" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>phone2_construction</label>
                                                            <input type="text" name="phone2_construction" class="form-control" placeholder="phone2_construction" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>status_stage_construction</label>
                                                            <input type="text" name="status_stage_construction" class="form-control" placeholder="status_stage_construction" onkeypress="json_array(event,this)" />
                                                        </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div id="menu1" class="tab-pane fade">
                                    <br><br>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title"> Fechas </h3>
                                                </div>
                                                <div class="box-body">
                                                    <div class="row">
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>Nombre fase construccion</label>
                                                                <input type="text" name="stage_name_construction" class="form-control"  placeholder="stage_name_construction" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>Date census</label>
                                                                <input type="text" name="date_census" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>date_asign_crm</label>
                                                                <input type="text" name="date_asign_crm" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                        </div>

                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>date_invoice_1</label>
                                                                <input type="text" name="date_invoice_1" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>date_invoice_2</label>
                                                                <input type="text" name="date_invoice_2" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>date_quotation_census</label>
                                                                <input type="text" name="date_quotation_census" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                        </div>
                                                        
                                                        <div class="col-md-4">
                                                            <div class="form-group">
                                                                <label>date_invoice_3</label>
                                                                <input type="text" name="date_invoice_3" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>date_final_closing</label>
                                                                <input type="text" name="date_final_closing" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                            <div class="form-group">
                                                                <label>date_owner_delivery</label>
                                                                <input type="text" name="date_owner_delivery" class="form-control datepicker" id="" data-date-format="yyyy-mm-dd" onkeypress="json_array(event,this)" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-12">
                                                            <div class="form-group">
                                                                <label>name_contact_construction</label>
                                                                <input type="text" name="name_contact_construction" class="form-control" placeholder="name_contact_construction" onkeypress="json_array(event,this)" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Datos muebles</h3>
                                                </div>
                                                <div class="box-body">
                                                    
                                                        <div class="form-group">
                                                            <label>stage_qty_units</label>
                                                            <input type="text" name="stage_qty_units" class="form-control" placeholder="stage_qty_units" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>qty_kitchen</label>
                                                            <input type="text" class="form-control" name="qty_kitchen" placeholder="qty_kitchen" onkeypress="json_array(event,this)">
                                                        </div>
                                                        <div class="form-group">
                                                            <label>qty_closet_vest</label>
                                                            <input type="text" class="form-control" name="qty_closet_vest" placeholder="qty_closet_vest" onkeypress="json_array(event,this)">
                                                        </div>
                                                        <div class="form-group">
                                                            <label>qty_vanities</label>
                                                            <input type="text" class="form-control" name="qty_vanities" placeholder="qty_vanities" onkeypress="json_array(event,this)">
                                                        </div>
                                                        <div class="form-group">
                                                            <label>qty_doors_frames</label>
                                                            <input type="text" class="form-control" name="qty_doors_frames" placeholder="qty_doors_frames" onkeypress="json_array(event,this)">
                                                        </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="box box-primary">
                                                <div class="box-header with-border">
                                                    <h3 class="box-title">Datos construccion</h3>
                                                </div>
                                                <div class="box-body">
                                                    
                                                        <div class="form-group">
                                                            <label>qty_others</label>
                                                            <input type="text" name="qty_others" class="form-control" placeholder="qty_others" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>total_potential_units</label>
                                                            <input type="text" name="total_potential_units" class="form-control" placeholder="total_potential_units" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>value_kitchen</label>
                                                            <input type="text" name="value_kitchen" class="form-control" placeholder="value_kitchen" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>value_closet_vest</label>
                                                            <input type="text" name="value_closet_vest" class="form-control" placeholder="value_closet_vest" onkeypress="json_array(event,this)" />
                                                        </div>
                                                        <div class="form-group">
                                                            <label>value_vanities</label>
                                                            <input type="text" name="value_vanities" class="form-control" placeholder="value_vanities" onkeypress="json_array(event,this)" />
                                                        </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                                <div id="menu2" class="tab-pane fade">
                                    <br>
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="box box-primary">
                                                <div class="box-header">
                                                    <h3 class="box-title">Datos construccion</h3>
                                                </div>
                                                <div class="box-body">
                                                    <div class="form-group">
                                                        <label>porc_sales_sellern</label>
                                                        <input type="text" name="porc_sales_sellern" class="form-control" placeholder="porc_sales_sellern" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>value_doors_frames</label>
                                                        <input type="text" name="value_doors_frames" class="form-control" placeholder="value_doors_frames" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>value_others</label>
                                                        <input type="text" name="value_others" class="form-control" placeholder="value_others" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>total_invoice_census</label>
                                                        <input type="text" name="total_invoice_census" class="form-control" placeholder="total_invoice_census" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>status_record</label>
                                                        <input type="text" name="status_record" class="form-control" placeholder="status_record" onkeypress="json_array(event,this)" />
                                                    </div>  
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6">
                                            <div class="box box-primary">
                                                <div class="box-header">
                                                    <h3 class="box-title">Datos construccion</h3>
                                                </div>
                                                <div class="box-body">
                                                    <div class="form-group">
                                                        <label>latitude_construction</label>
                                                        <input type="text" name="latitude_construction" class="form-control" placeholder="latitude_construction" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>type_record_info</label>
                                                        <input type="text" name="type_record_info" class="form-control" placeholder="type_record_info" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>status_crm</label>
                                                        <input type="text" name="status_crm" class="form-control" placeholder="status_crm" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>asesor_crm</label>
                                                        <input type="text" name="asesor_crm" class="form-control" placeholder="asesor_crm" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>last_update</label>
                                                        <input type="text" name="last_update" class="form-control" placeholder="last_update" onkeypress="json_array(event,this)" />
                                                    </div>  
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="box box-primary">
                                                <div class="box-header">
                                                    <h3 class="box-title">Datos construccion</h3>
                                                </div>
                                                <div class="box-body">
                                                    <div class="form-group">
                                                        <label>longitude_construction</label>
                                                        <input type="text" name="longitude_construction" class="form-control" placeholder="longitude_construction" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>modified_by</label>
                                                        <input type="text" name="modified_by" class="form-control" placeholder="modified_by" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>is_active</label>
                                                        <input type="text" name="is_active" class="form-control" placeholder="is_active" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>is_commited</label>
                                                        <input type="text" name="is_commited" class="form-control" placeholder="is_commited" onkeypress="json_array(event,this)" />
                                                    </div>
                                                    <div class="form-group">
                                                        <label>is_closed</label>
                                                        <input type="text" name="is_closed" class="form-control" placeholder="is_closed" onkeypress="json_array(event,this)" />
                                                    </div>  
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                </div>
                                
                            </div>
                        </form>
                    </div>
                    <div class="box-footer">
                        <button class="btn btn-primary" type="button" onclick="save()">Guardar</button>
                    </div>
                </div>
            </div>
        </div>
        
    </section>
</div>
<script type="text/javascript">
    $(document).ready(function(){
        $('.datepicker').datepicker({
            format: 'yyyy-mm-dd',
            autoclose: true,
            language: 'es'
        });
    });

    var json_array_arr = {   
        "id_project_construccion": '',
        "id_stage_construction": '',
        "id_stage_project_construction": '',
        "date_census": '',
        "visioncenter_projects_censuscol": '',
        "name_construction": '',
        "project_name_construction": '',
        "id_construction_legal": '',
        "address_construction": '',
        "pending_cast_units": '',
        "zone_sub_census": '',
        "address_name_construction":'',
        "construction_source": '',
        "stratum_construction": '',
        "city_construction": '',
        "phone1_construction": '',
        "phone2_construction": '',
        "status_stage_construction": '',
        "stage_name_construction": '',
        "stage_qty_units": '',
        "name_contact_construction": '',
        "porc_sales_seller": '',
        "latitude_construction": '',
        "longitude_construction": '',
        "date_invoice_1": '',
        "date_invoice_2": '',
        "date_invoice_3": '',
        "date_final_closing": '',
        "date_owner_delivery": '',
        "date_quotation_census": '',
        "qty_kitchen": '',
        "qty_closet_vest": '',
        "qty_vanities": '',
        "qty_doors_frames": '',
        "qty_others": '',
        "total_potential_units": '',
        "value_kitchen": '',
        "value_closet_vest": '',
        "value_vanities": '',
        "value_doors_frames": '',
        "value_others": '',
        "total_invoice_census": '',
        "status_record": '',
        "type_record_info": '',
        "status_crm": '',
        "asesor_crm": '',
        "date_asign_crm": '',
        "last_update": '',
        "modified_by": '',
        "is_active": '',
        "is_commited": '',
        "is_closed": ''
    };

    function save(){
        var array = document.querySelectorAll(".form-pb input");
        var array_date = document.querySelectorAll("input[type=date]");
        var vali = 0;
        array.forEach(function(element){
            json_array_arr[element.name] = element.value;
            if (element.value == "") {
                element.style = "border-color: red";
                vali = 1;
            }else{
                element.style = "border-color: #d2d6de";
            }
        });
        array_date.forEach(function(element){
            if (element.value == "") {
                vali = 1;
            }else{
                // var date = new Date(element.value);
                // var newdate = new Date(element.value);
                // var day = ("0" + (date.getDate())).slice(-2);
                // var monthIndex = ("0" + (date.getMonth() + 1)).slice(-2);
                // var year = date.getFullYear();

                // newdate.setDate(newdate.getDate() + 1);
                // element.value = newdate.getFullYear()+'-'+("0" + (newdate.getMonth() + 1)).slice(-2)+'-'+("0" + (newdate.getDate())).slice(-2);
                // console.log(element.value);

            }
        });

        console.log(json_array_arr);
    }

    function json_array(e,v){
        //console.log(v.name);
        var name = v.name;
        json_array_arr[v.name] = v.value+e.key;
        console.log(json_array_arr);
    }

</script>